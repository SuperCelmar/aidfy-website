@tailwind base;
@tailwind components;
@tailwind utilities;

/* You can add CSS-first customizations here using @theme if needed */
/* For example, if you had custom colors in tailwind.config.ts: */
/* @theme { */
/*   --color-primary: #2563EB; */
/*   --color-lightBg: #F9FAFB; */
/* } */

@layer base {
  :root {
    /* Modular color tokens (RGB triplets) */
    /* Light theme (Space Cadet palette) */
    --color-primary: 34 34 59;        /* space_cadet 500 #22223b */
    --color-secondary: 240 140 174;   /* tickle_me_pink 500 #f08cae */
    --color-background: 238 247 253;  /* uranian_blue 900 #eef7fd */
    --color-foreground: 34 34 59;     /* space_cadet 500 #22223b */
    --color-muted: 96 96 163;         /* space_cadet 700 #6060a3 */
    --color-border: 202 202 224;      /* space_cadet 900 #cacae0 */
    --color-card: 255 255 255;        /* white */
    --color-accent: 57 22 145;        /* persian_indigo 500 #391691 */

    /* Effects bound to tokens */
    --gradient-color: rgb(var(--color-accent));
    --sparkles-color: rgb(var(--color-accent));
  }

  .dark {
    /* Dark theme overrides (Space Cadet palette) */
    --color-primary: 34 34 59;        /* space_cadet 500 #22223b */
    --color-secondary: 232 74 127;    /* tickle_me_pink 400 #e84a7f */
    --color-background: 27 27 47;     /* space_cadet 400 #1b1b2f */
    --color-foreground: 238 247 253;  /* uranian_blue 900 #eef7fd */
    --color-muted: 96 96 163;         /* space_cadet 700 #6060a3 */
    --color-border: 64 64 111;        /* space_cadet 600 #40406f */
    --color-card: 20 20 35;           /* space_cadet 300 #141423 */
    --color-accent: 120 77 228;       /* persian_indigo 700 #784de4 */

    --gradient-color: rgb(var(--color-accent));
    --sparkles-color: rgb(var(--color-accent));
  }

  /* Theme packs for runtime switching */
  :root[data-theme="space"] {
    --color-primary: 1 111 185;
    --color-secondary: 240 140 174;
    --color-background: 238 247 253;
    --color-foreground: 34 34 59;
    --color-muted: 96 96 163;
    --color-border: 202 202 224;
    --color-card: 255 255 255;
    --color-accent: 57 22 145;
    --gradient-color: rgb(var(--color-accent));
    --sparkles-color: rgb(var(--color-accent));
  }
  .dark[data-theme="space"] {
    --color-primary: 1 149 248;
    --color-secondary: 232 74 127;
    --color-background: 27 27 47;
    --color-foreground: 238 247 253;
    --color-muted: 96 96 163;
    --color-border: 64 64 111;
    --color-card: 20 20 35;
    --color-accent: 120 77 228;
    --gradient-color: rgb(var(--color-accent));
    --sparkles-color: rgb(var(--color-accent));
  }

  /* Legacy theme pack for rollback */
  :root[data-theme="legacy"] {
    --color-primary: 37 99 235;       /* #2563EB */
    --color-secondary: 124 58 237;    /* #7C3AED */
    --color-background: 249 250 251;  /* #F9FAFB */
    --color-foreground: 15 23 42;     /* #0F172A */
    --color-muted: 100 116 139;       /* #64748B */
    --color-border: 226 232 240;      /* #E2E8F0 */
    --color-card: 255 255 255;        /* #FFFFFF */
    --color-accent: 51 65 85;         /* #334155 */
    --gradient-color: rgb(var(--color-accent));
    --sparkles-color: rgb(var(--color-accent));
  }
  .dark[data-theme="legacy"] {
    --color-primary: 99 102 241;      /* #6366F1 */
    --color-secondary: 147 51 234;    /* #9333EA */
    --color-background: 15 23 42;     /* #0F172A */
    --color-foreground: 226 232 240;  /* #E2E8F0 */
    --color-muted: 148 163 184;       /* #94A3B8 */
    --color-border: 51 65 85;         /* #334155 */
    --color-card: 2 6 23;             /* #020617 */
    --color-accent: 148 163 184;      /* #94A3B8 */
    --gradient-color: rgb(var(--color-accent));
    --sparkles-color: rgb(var(--color-accent));
  }
}

/* Line clamp utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Syntax highlighting theme - works in both light and dark modes */

/* Light mode token colors */
.token.comment,
.token.prolog,
.token.cdata {
  color: #6b7280; /* gray-500 */
  font-style: italic;
}

.dark .token.comment,
.dark .token.prolog,
.dark .token.cdata {
  color: #6a9955;
  font-style: italic;
}

.token.punctuation {
  color: #4b5563; /* gray-600 */
}

.dark .token.punctuation {
  color: #d4d4d4;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
  color: #059669; /* emerald-600 */
}

.dark .token.property,
.dark .token.tag,
.dark .token.boolean,
.dark .token.number,
.dark .token.constant,
.dark .token.symbol,
.dark .token.deleted {
  color: #b5cea8;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  color: #dc2626; /* red-600 */
}

.dark .token.selector,
.dark .token.attr-name,
.dark .token.string,
.dark .token.char,
.dark .token.builtin,
.dark .token.inserted {
  color: #ce9178;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  color: #374151; /* gray-700 */
}

.dark .token.operator,
.dark .token.entity,
.dark .token.url,
.dark .language-css .token.string,
.dark .style .token.string {
  color: #d4d4d4;
}

.token.atrule,
.token.attr-value,
.token.keyword {
  color: #2563eb; /* blue-600 */
  font-weight: 600;
}

.dark .token.atrule,
.dark .token.attr-value,
.dark .token.keyword {
  color: #569cd6;
}

.token.function,
.token.class-name {
  color: #7c3aed; /* violet-600 */
  font-weight: 500;
}

.dark .token.function,
.dark .token.class-name {
  color: #dcdcaa;
}

.token.regex,
.token.important,
.token.variable {
  color: #dc2626; /* red-600 */
}

.dark .token.regex,
.dark .token.important,
.dark .token.variable {
  color: #d16969;
}

.token.important,
.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}

.token.entity {
  cursor: help;
}

/* Additional tokens for better highlighting */
.token.namespace {
  opacity: 0.7;
}

/* TypeScript specific tokens */
.token.type {
  color: #059669; /* emerald-600 */
}

.dark .token.type {
  color: #4ec9b0;
}

/* JSON specific tokens */
.language-json .token.property {
  color: #2563eb; /* blue-600 */
}

.dark .language-json .token.property {
  color: #9cdcfe;
}

/* SQL specific tokens */
.language-sql .token.keyword {
  color: #2563eb; /* blue-600 */
  text-transform: uppercase;
  font-weight: 600;
}

.dark .language-sql .token.keyword {
  color: #569cd6;
}

/* Line numbers support */
.line-numbers {
  position: relative;
  padding-left: 3.8em;
  counter-reset: linenumber;
}

.line-numbers > code {
  position: relative;
  white-space: inherit;
}

.line-numbers .line-numbers-rows {
  position: absolute;
  pointer-events: none;
  top: 0;
  font-size: 100%;
  left: -3.8em;
  width: 3em;
  letter-spacing: -1px;
  border-right: 1px solid #999;
  user-select: none;
}

.line-numbers-rows > span {
  display: block;
  counter-increment: linenumber;
}

.line-numbers-rows > span:before {
  content: counter(linenumber);
  color: #999;
  display: block;
  padding-right: 0.8em;
  text-align: right;
} 